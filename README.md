# next-intl를 사용한 i18n 전략

1. 서버 컴포넌트에서 번역된 텍스트를 미리 props로 넘기기

- 특징

  - 클라이언트에서 번역 데이터를 사용할 수 있음 (props로 전달)
  - 서버에서 getTranslations() 실행하여 번역된 값만 클라이언트로 넘김 (최적화)
  - 정적인 번역 데이터에는 최적 (라우트 변경과 무관한 경우)

- 적합성
  - 정적이고 페이지 초기 로딩에 필요한 번역 데이터

2. 서버 액션을 사용해서 클라이언트에서 번역 데이터 가져오기

- 특징

  - 클라이언트에서 번역 데이터를 비동기로 가져옴
  - 언어 변경 시 즉시 반영 가능
  - 초기 로딩 속도는 느려질 수 있음 (서버에서 데이터를 받아오기 때문)

- 적합성

  - 언어가 사용자 동작에 따라 바뀌고, 즉각적인 반응이 필요할 때 (ex. 드롭다운으로 언어 선택)

  - 언어 변경 시, 전체 페이지 리로드 없이 즉시 적용 가능
  - 클라이언트에서 상태(State)로 관리 가능
  - API 요청 없이도 언어 전환 가능 (캐싱 & 성능 최적화)
  - 서버 액션을 활용하면 다국어 데이터 요청도 최적화 가능

---

## Vercel 배포 중 발생 에러

1. cannot find module '@tailwindcss/oxide-linux-arm64-gnu'

해결방법 : package.json 에서 아래 코드 추가

```
  "optionalDependencies": {
    "@tailwindcss/oxide-linux-x64-gnu": "^4",
    "lightningcss-linux-x64-gnu": "^1.29.1"
  }
```

---

# 완벽한 게시판 만들기

(MVP 버전 단계별 기능 설계)

### ✅ MVP v1: **기본 CRUD 중심의 심플 게시판**

**🎯 목표:** 게시글과 댓글을 CRUD로 처리하고, 로그인 기반의 접근만 가능하게 한다.

**기능 구성:**

- 회원가입 / 로그인 (Supabase Auth)
- 게시글 목록 (SSR + 페이징)
- 게시글 작성 / 상세 / 수정 / 삭제
- 댓글 작성 / 수정 / 삭제
- 작성자 정보 표시
- 카테고리 구분
- 작성일, 조회수, 기본 메타 표시

**Supabase 설정 포인트:**

- `posts`, `comments`, `users`, `categories` 테이블 생성
- RLS: 본인만 수정/삭제 가능하게
- 조회수는 `RPC` 또는 `Edge Function` 사용하면 좋음

---

### ✅ MVP v2: **리치 UI, 사용자 경험 개선**

**🎯 목표:** 사용성을 높이고 사용자 참여를 유도한다.

**기능 추가:**

- 무한 스크롤 or 페이지네이션 선택
- 마크다운 또는 리치 텍스트 에디터 (TipTap, Markdown)
- 이미지/파일 업로드
- 썸네일 / 이미지 미리보기
- 카테고리 필터, 키워드 검색
- 반응형 UI 및 접근성 개선
- 작성 중 자동 저장 / 임시 저장

**Supabase 포인트:**

- `files` 테이블 + 스토리지 연동
- 자동 저장용 `drafts` 테이블 고려
- 키워드 검색: Supabase `pgroonga` or `pg_trgm` 인덱스 사용

---

### ✅ MVP v3: **소셜 기능 + 유저 참여 강화**

**🎯 목표:** 사용자 간 상호작용을 통해 커뮤니티화

**기능 추가:**

- 대댓글 (Nested Comments)
- 좋아요 / 추천 기능
- 북마크 / 즐겨찾기
- 해시태그 필터 기능
- 공지글 상단 고정
- 사용자 프로필 / 등급 / 활동 이력

**Supabase 포인트:**

- `likes`, `bookmarks`, `tags` 테이블 추가
- 태그 필터는 `GIN index` 활용
- 공지글: `pinned` 필드 + 목록 정렬 시 우선순위 반영

---

### ✅ MVP v4: **관리자 및 보안 기능 강화**

**🎯 목표:** 커뮤니티 유지 관리와 보안을 위한 기능

**기능 추가:**

- 게시글/댓글 블라인드 처리
- 관리자 전용 대시보드
- 사용자 신고 기능 (신고 내역 관리)
- 키워드 필터링 및 자동 블라인드
- 권한 기반 접근 제어 (`USER`, `MOD`, `ADMIN`)
- 통계 보기 (글 수, 댓글 수, 사용자 수 등)

**Supabase 포인트:**

- `reports`, `roles`, `moderation_logs` 테이블
- RLS 정책을 Role 기반으로 분기 처리
- 관리자는 모든 글을 조회/수정 가능하게 RLS 조건 분기

---

### ✅ MVP v5: **성능 최적화 + 확장성 강화**

**🎯 목표:** 대규모 트래픽 대응과 UX 고도화

**기능 추가:**

- 인기글 / 최신글 정렬
- 게시글 수정/삭제 이력 관리
- SSR/ISR/CSR 전략 조합
- 데이터 캐싱 (SWR + Supabase)
- Lazy Loading + 코드 스플리팅
- 이미지 최적화 (WebP 변환, 리사이징)

**Supabase & Next.js 포인트:**

- `post_history` 테이블로 변경 이력 관리
- ISR 사용 시 revalidate 설정 최적화
- `sharp` + `Supabase Storage` + Edge Function으로 이미지 처리
